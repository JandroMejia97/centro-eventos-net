@page "/personas"
@inject PersonaObtenerTodosUseCase ObtenerTodosUseCase

<h3>Personas</h3>
<p><a href="/personas/nueva">Agregar Persona</a></p>

@if (personas is null)
{
    <p>Cargando...</p>
}
else
{
    <ul>
        @foreach (var p in personas)
        {
            <li>@p.Nombre @p.Apellido - @p.DNI</li>
        }
    </ul>
}

@code {
    private List<Persona>? personas;

    protected override void OnInitialized()
    {
        personas = ObtenerTodosUseCase.Ejecutar().ToList();
    }
}